<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô - ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå">
    <meta name="keywords" content="‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô, ‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î, ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå, ‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</title>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <img src="logo.png" alt="Durian Analytics Logo" style="height:40px; vertical-align:middle; margin-right:10px;">
                    Durian Analytics
                </a>
                <div class="header-actions">
                    <a href="history.html" class="history-button">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</a>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="dashboard-title">
                <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h1>
                <p>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
            </div>

            <div class="analysis-input">
                <h2>‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</h2>
                <div class="source-selector">
                    <div class="source-item">
                        <input type="checkbox" id="facebook" checked>
                        <label for="facebook">Facebook</label>
                    </div>
                    <div class="source-item">
                        <input type="checkbox" id="twitter" checked>
                        <label for="twitter">Twitter</label>
                    </div>
                    <div class="source-item">
                        <input type="checkbox" id="instagram" checked>
                        <label for="instagram">Instagram</label>
                    </div>
                </div>
                <textarea placeholder="‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå..."></textarea>
                <button class="interactive-button" id="analyze-btn" onclick="analyzeText()">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
            </div>
            <div id="analyze-toast" style="display:none;position:fixed;bottom:32px;left:50%;transform:translateX(-50%);background:linear-gradient(45deg,var(--primary-color),var(--secondary-color));color:#fff;padding:14px 32px;border-radius:24px;box-shadow:0 2px 12px rgba(0,0,0,0.12);font-size:1.1em;z-index:9999;transition:opacity 0.3s;opacity:0;"></div>

            <div class="stats-summary">
                <div class="stat-card">
                    <div class="stat-value">
                        <span class="stat-icon">üí∞</span>
                        187,829 ‡∏•‡πâ‡∏≤‡∏ô‡∏ö‡∏≤‡∏ó
                    </div>
                    <div class="stat-label">‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡∏õ‡∏µ 2566</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">
                        <span class="stat-icon">üìà</span>
                        141%
                    </div>
                    <div class="stat-label">‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏à‡∏≤‡∏Å‡∏õ‡∏µ 2565</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">
                        <span class="stat-icon">üë•</span>
                        85.7%
                    </div>
                    <div class="stat-label">‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡πÇ‡∏†‡∏Ñ‡∏≠‡πà‡∏≤‡∏ô‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡∏ã‡∏∑‡πâ‡∏≠</div>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="card">
                    <h2 class="card-title">‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å</h2>
                    <div class="chart-container">
                        <canvas id="sentimentChart"></canvas>
                    </div>
                    <div class="metrics-grid">
                        <div class="metric-item">
                            <div class="metric-value">65%</div>
                            <div class="metric-label">‡πÄ‡∏ä‡∏¥‡∏á‡∏ö‡∏ß‡∏Å</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">25%</div>
                            <div class="metric-label">‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-value">10%</div>
                            <div class="metric-label">‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏ö</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏≥‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</h2>
                    <div class="keyword-analysis">
                        <div class="keyword-category">
                            <div class="keyword-title">‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏¥‡∏á‡∏ö‡∏ß‡∏Å</div>
                            <div class="keyword-list">
                                <span class="keyword-item">‡∏´‡∏ß‡∏≤‡∏ô</span>
                                <span class="keyword-item">‡∏≠‡∏£‡πà‡∏≠‡∏¢</span>
                                <span class="keyword-item">‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏î‡∏µ</span>
                                <span class="keyword-item">‡∏™‡∏î</span>
                                <span class="keyword-item">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤</span>
                            </div>
                        </div>
                        <div class="keyword-category">
                            <div class="keyword-title">‡∏Ñ‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á</div>
                            <div class="keyword-list">
                                <span class="keyword-item">‡∏£‡∏≤‡∏Ñ‡∏≤</span>
                                <span class="keyword-item">‡∏Ç‡∏ô‡∏™‡πà‡∏á</span>
                                <span class="keyword-item">‡∏ö‡∏£‡∏£‡∏à‡∏∏‡∏†‡∏±‡∏ì‡∏ë‡πå</span>
                            </div>
                        </div>
                        <div class="keyword-category">
                            <div class="keyword-title">‡∏Ñ‡∏≥‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏ö</div>
                            <div class="keyword-list">
                                <span class="keyword-item">‡πÅ‡∏û‡∏á</span>
                                <span class="keyword-item">‡∏ä‡πâ‡∏≤</span>
                                <span class="keyword-item">‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏ï‡∏•‡∏≤‡∏î</h2>
                    <div class="trend-header">
                        <div class="trend-filters">
                            <span class="trend-filter active">‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</span>
                            <span class="trend-filter">‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</span>
                            <span class="trend-filter">‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</span>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="trendChart"></canvas>
                    </div>
                </div>

                <div class="card">
                    <h2 class="card-title">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç</h2>
                    <div class="campaign-suggestions">
                        <div class="suggestion-item">
                            "‡∏°‡∏´‡∏±‡∏®‡∏à‡∏£‡∏£‡∏¢‡πå‡πÅ‡∏´‡πà‡∏á‡∏£‡∏™‡∏ä‡∏≤‡∏ï‡∏¥: ‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏´‡∏°‡∏≠‡∏ô‡∏ó‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏° ‡∏´‡∏ß‡∏≤‡∏ô‡∏°‡∏±‡∏ô‡∏ñ‡∏∂‡∏á‡πÉ‡∏à"
                        </div>
                        <div class="suggestion-item">
                            "‡∏™‡πà‡∏á‡∏ï‡∏£‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏ß‡∏ô: ‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏î‡πÉ‡∏´‡∏°‡πà ‡∏Ñ‡∏±‡∏î‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì"
                        </div>
                        <div class="suggestion-item">
                            "‡∏£‡∏≤‡∏ä‡∏≤‡πÅ‡∏´‡πà‡∏á‡∏ú‡∏•‡πÑ‡∏°‡πâ: ‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏ó‡∏¢‡πÅ‡∏ó‡πâ ‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å"
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="#">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</a>
                    <a href="#">‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</a>
                    <a href="#">‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</a>
                    <a href="#">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
                </div>
                <p>&copy; 2024 Durian Analytics. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <div class="tooltip"></div>

    <script>
        // Sentiment Chart
        const sentimentCtx = document.getElementById('sentimentChart').getContext('2d');
        const sentimentChart = new Chart(sentimentCtx, {
            type: 'doughnut',
            data: {
                labels: ['‡πÄ‡∏ä‡∏¥‡∏á‡∏ö‡∏ß‡∏Å', '‡∏Å‡∏•‡∏≤‡∏á', '‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏ö'],
                datasets: [{
                    data: [65, 25, 10],
                    backgroundColor: ['#4AD8B9', '#FFB86B', '#FF9248'],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#2C3E50',
                            font: {
                                size: 12
                            },
                            padding: 15
                        }
                    }
                },
                cutout: '70%'
            }
        });

        // Trend Chart
        const trendCtx = document.getElementById('trendChart').getContext('2d');
        const trendChart = new Chart(trendCtx, {
            type: 'line',
            data: {
                labels: ['‡∏à', '‡∏≠', '‡∏û', '‡∏û‡∏§', '‡∏®', '‡∏™', '‡∏≠‡∏≤'],
                datasets: [{
                    label: '‡∏Å‡∏≤‡∏£‡∏û‡∏π‡∏î‡∏ñ‡∏∂‡∏á',
                    data: [1200, 1900, 3000, 5000, 4000, 3500, 4200],
                    borderColor: '#4AD8B9',
                    backgroundColor: 'rgba(74, 216, 185, 0.1)',
                    fill: true,
                    tension: 0.4,
                    borderWidth: 2,
                    pointRadius: 3,
                    pointHoverRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        ticks: { 
                            color: '#2C3E50',
                            font: {
                                size: 11
                            }
                        },
                        grid: { 
                            color: '#E1E8F0',
                            drawBorder: false
                        }
                    },
                    x: {
                        ticks: { 
                            color: '#2C3E50',
                            font: {
                                size: 11
                            }
                        },
                        grid: { 
                            color: '#E1E8F0',
                            drawBorder: false
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        function analyzeText() {
            const text = document.querySelector('textarea').value;
            const btn = document.getElementById('analyze-btn');
            if (!text) {
                alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå');
                return;
            }
            btn.disabled = true;
            btn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå...';
            setTimeout(() => {
                // Simulate API call and update charts
                updateSentimentData();
                // --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ---
                const sentiments = ['‡πÄ‡∏ä‡∏¥‡∏á‡∏ö‡∏ß‡∏Å', '‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á', '‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏ö'];
                const keywordsList = [
                    ['‡∏≠‡∏£‡πà‡∏≠‡∏¢', '‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏î‡∏µ', '‡∏™‡∏î'],
                    ['‡∏£‡∏≤‡∏Ñ‡∏≤', '‡∏Ç‡∏ô‡∏™‡πà‡∏á', '‡∏ö‡∏£‡∏£‡∏à‡∏∏‡∏†‡∏±‡∏ì‡∏ë‡πå'],
                    ['‡πÅ‡∏û‡∏á', '‡∏ä‡πâ‡∏≤', '‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢']
                ];
                const chartData = sentimentChart.data.datasets[0].data;
                let maxIdx = 0;
                for (let i = 1; i < chartData.length; i++) {
                    if (chartData[i] > chartData[maxIdx]) maxIdx = i;
                }
                const sentiment = sentiments[maxIdx];
                const keywords = keywordsList[maxIdx];
                const now = new Date();
                const dateStr = now.getFullYear() + '-' + String(now.getMonth()+1).padStart(2,'0') + '-' + String(now.getDate()).padStart(2,'0') + ' ' + String(now.getHours()).padStart(2,'0') + ':' + String(now.getMinutes()).padStart(2,'0');
                let history = [];
                try {
                    history = JSON.parse(localStorage.getItem('durian_history')) || [];
                } catch { history = []; }
                history.unshift({ text, date: dateStr, sentiment, keywords });
                if (history.length > 50) history = history.slice(0, 50);
                localStorage.setItem('durian_history', JSON.stringify(history));
                // --- ‡∏à‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ ---
                btn.disabled = false;
                btn.textContent = '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°';
                showAnalyzeToast('‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß');
            }, 1200);
        }

        function showAnalyzeToast(msg) {
            const toast = document.getElementById('analyze-toast');
            toast.textContent = msg;
            toast.style.display = 'block';
            setTimeout(()=>{ toast.style.opacity = 1; }, 10);
            setTimeout(()=>{
                toast.style.opacity = 0;
                setTimeout(()=>{ toast.style.display = 'none'; }, 400);
            }, 2000);
        }

        function updateSentimentData() {
            const newData = [
                Math.floor(Math.random() * 30) + 50,
                Math.floor(Math.random() * 20) + 20,
                Math.floor(Math.random() * 10) + 5
            ];
            sentimentChart.data.datasets[0].data = newData;
            sentimentChart.update();

            document.querySelectorAll('.metric-value').forEach((el, i) => {
                el.textContent = newData[i] + '%';
            });
        }

        function updateTimeframe(period) {
            const timeframes = {
                week: {
                    labels: ['‡∏à', '‡∏≠', '‡∏û', '‡∏û‡∏§', '‡∏®', '‡∏™', '‡∏≠‡∏≤'],
                    data: [1200, 1900, 3000, 5000, 4000, 3500, 4200]
                },
                month: {
                    labels: ['‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå 1', '‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå 2', '‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå 3', '‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå 4'],
                    data: [15000, 25000, 30000, 45000]
                },
                quarter: {
                    labels: ['‡∏°.‡∏Ñ.', '‡∏Å.‡∏û.', '‡∏°‡∏µ.‡∏Ñ.'],
                    data: [50000, 80000, 120000]
                }
            };

            document.querySelectorAll('.time-filter button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            trendChart.data.labels = timeframes[period].labels;
            trendChart.data.datasets[0].data = timeframes[period].data;
            trendChart.update();
        }

        function showTooltip(event, text) {
            const tooltip = document.querySelector('.tooltip');
            tooltip.style.display = 'block';
            tooltip.style.left = event.pageX + 10 + 'px';
            tooltip.style.top = event.pageY + 10 + 'px';
            tooltip.textContent = text;

            event.target.addEventListener('mouseleave', () => {
                tooltip.style.display = 'none';
            });
        }
    </script>
</body>
</html> 